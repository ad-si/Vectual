// Shaven 0.4.0 by Adrian Sieber (adriansieber.com)
shaven=function e(t,r,n){"use strict";function i(e){var t=e.match(/^\w+/),i=t?t[0]:"div",o=s.createElementNS(r,i),f=e.match(/#([\w-]+)/),l=e.match(/\$([\w-]+)/),c=e.match(/\.[\w-]+/g);return f&&(o.id=f[1],n[f[1]]=o),l&&(n[l[1]]=o),c&&o.setAttribute("class",c.join(" ").replace(/\./g,"")),e.match(/&$/g)&&(a=!0),o}var a,o,f,l,s=document;for(n=n||{},r=r||"http://www.w3.org/1999/xhtml","string"==typeof t[0]&&(t[0]=i(t[0])),l=1;l<t.length;l++){if(t[l]===!1||null===t[l]){t[0]=!1;break}if(void 0!==t[l])if("string"==typeof t[l]||"number"==typeof t[l])a?t[0].innerHTML=t[l]:t[0].appendChild(s.createTextNode(t[l]));else if(Array.isArray(t[l]))e(t[l],r,n),t[l][0]&&t[0].appendChild(t[l][0]);else if("function"==typeof t[l])o=t[l];else if(t[l]instanceof Element)t[0].appendChild(t[l]);else if("object"==typeof t[l])for(f in t[l]){if(!t[l].hasOwnProperty(f))throw new TypeError('"'+t[l]+'" is not allowed as a value.');t[0].setAttribute(f,t[l][f])}}return n[0]=t[0],o&&o(t[0]),n};